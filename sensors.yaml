## Sensors

  - platform: darksky
    api_key: !secret darksky_api_key
    monitored_conditions:
      - summary
      - temperature
      - temperature_max
      - temperature_min
      - humidity
      - precip_probability
      - wind_speed

  - platform: dnsip
    hostname: lucasweb.duckdns.org

  - platform: template
    sensors:
      home_presence_status:
        friendly_name: Status
        icon_template: >-
          mdi:home
        value_template: >-
          {% if is_state_attr('climate.downstairs', 'away_mode', 'off') %}
            Home
          {% else %}
            Away
          {% endif %}
      downstairs_lights_status:
        friendly_name: 'Downstairs Lights'
        icon_template: >-
          {% if is_state('group.downstairs_all_lights', 'on') %}
            mdi:lightbulb
          {% else %}
            mdi:lightbulb-outline
          {% endif %}            
        value_template: >-
          {% if is_state('group.downstairs_all_lights', 'on') %}
            on
          {% else %}
            off
          {% endif %}
      downstairs_last_motion:
        friendly_name: 'Downstairs Last Motion'
        icon_template: >-
          mdi:eye
        value_template: >-
          {{ relative_time(states.sensor.downstairs_motion_detector.last_changed) }}
      battery_front_door_lock:
        friendly_name: 'Front Door Lock'
        icon_template: >-
          mdi:battery
        value_template: >-
          {%- if states.zwave.front_door_lock -%}
            {{ states.zwave.front_door_lock.attributes.battery_level }}
          {%- else -%}
            100
          {%- endif -%}
        unit_of_measurement: '%'
      battery_downstairs_motion_detector:
        friendly_name: 'Downstairs Motion Detector'
        icon_template: >-
          mdi:battery
        value_template: >-
          {%- if states.zwave.downstairs_motion_detector -%}
            {{ states.zwave.downstairs_motion_detector.attributes.battery_level }}
          {%- else -%}
            100
          {%- endif -%}
        unit_of_measurement: '%'
      battery_vacuum_roomba:
        friendly_name: 'Roomba'
        icon_template: >-
          mdi:battery
        value_template: >-
          {%- if states.vacuum.roomba -%}
            {{ states.vacuum.roomba.attributes.battery_level }}
          {%- else -%}
            100
          {%- endif -%}
        unit_of_measurement: '%'
          
  - platform: ohmconnect
    id: !secret ohm_connect_id